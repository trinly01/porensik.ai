(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["e4e3e832"],{"194b":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{ref:"container",staticClass:"q-pa-md ",attrs:{id:"t-main-body"},nativeOn:{click:function(t){e.$root.clickedItem=e.$root.currentFolder}}},[r("new-menu"),r("div",{staticClass:"text-caption q-pb-md"},[e._v("Folders")]),r("div",{staticClass:"row items-start q-gutter-md q-pb-md q-pr-md"},e._l(e.folders,function(t){return r("q-card",{key:t._id,staticClass:"my-card col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 no-shadow",style:{"background-color":e.$root.clickedItem._id===t._id?"#E1F5FE":"white"},attrs:{bordered:"",id:t._id},nativeOn:{dblclick:function(r){return e.dblclick(t)},click:function(r){e.$timeout(function(){e.$root.clickedItem=t},10)}}},[r("q-card-section",{staticClass:"row items-center no-wrap",staticStyle:{"max-height":"56px"}},[r("div",{staticClass:"col text-weight-regular limited-text",class:{"text-primary":e.$root.clickedItem._id===t._id,"text-blue-grey-14":e.$root.clickedItem._id!==t._id}},[r("q-btn",{staticClass:"bg-white q-mr-sm",attrs:{round:"",flat:"",color:"blue-grey-14",size:"sm",icon:"folder"}}),r("span",[e._v("\n              "+e._s(t.label)+"\n              "),t.label.length>25?r("q-tooltip",[e._v("\n                "+e._s(t.label)+"\n              ")]):e._e()],1)],1),r("div",{staticClass:"col-auto"},[r("q-btn",{attrs:{color:"grey-7",size:"sm",round:"",flat:"",icon:"more_vert"}},[r("node-menu",{attrs:{node:t}})],1)],1)])],1)}),1),r("div",{staticClass:"row text-caption q-mt-md"},[e._v("Files")]),r("div",{staticClass:"row items-start q-gutter-md q-pb-md q-pr-md"},e._l(e.files,function(t){return r("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.trash&&t.parentFolder===e.$route.params._id,expression:"!file.trash && file.parentFolder === $route.params._id"}],key:t._id,staticClass:"my-card col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 no-shadow",style:{"background-color":e.$root.clickedItem._id===t._id?"#E1F5FE":"white"},attrs:{bordered:"",id:t._id},nativeOn:{click:function(r){e.$timeout(function(){e.$root.clickedItem=t},10)}}},[t.versions&&e.$lodash.isImage(e.currentVersion(t).fileName)?r("div",{staticClass:"thumbnail"},[r("img",{staticClass:"portrait",attrs:{src:e.$dbCon.io.io.uri+"/uploads?_id="+e.currentVersion(t)._id,alt:"Image"}})]):e.$lodash.isVideo(e.currentVersion(t).fileName)?r("div",{staticClass:"thumbnail"},[r("video",{staticClass:"thumbnail",attrs:{controls:"",preload:"none"}},[r("source",{attrs:{src:e.$dbCon.io.io.uri+"/uploads?_id="+e.currentVersion(t)._id}}),e._v("\n          Your browser does not support the video tag.\n        ")])]):r("div",{staticClass:"row justify-center bg-blue-grey-1"},[r("q-icon",{staticClass:"q-pt-md q-pb-md",attrs:{name:"insert_drive_file",size:"72px",color:"blue-grey-14 thumbnail"}})],1),r("q-card-section",{staticClass:"row items-center no-wrap",staticStyle:{"max-height":"56px"}},[r("div",{staticClass:"col text-weight-regular limited-text",class:{"text-primary":e.$root.clickedItem._id===t._id,"text-blue-grey-14":e.$root.clickedItem._id!==t._id}},[r("q-btn",{staticClass:"bg-white q-mr-sm",attrs:{round:"",flat:"",color:"blue-grey-14",size:"sm",icon:"insert_drive_file"}}),r("span",[e._v("\n            "+e._s(t.label)+"\n            "),t.label.length>25?r("q-tooltip",[e._v("\n              "+e._s(t.label)+"\n            ")]):e._e()],1)],1),r("div",{staticClass:"col-auto"},[r("q-btn",{attrs:{color:"grey-7",size:"sm",round:"",flat:"",icon:"more_vert"}},[r("node-menu",{attrs:{node:t}})],1)],1)])],1)}),1)],1)},i=[],s=r("02fa"),n=r.n(s),a=(r("20d6"),r("967e")),l=r.n(a),c=(r("96cf"),r("fa84")),d=r.n(c),u=r("68ff"),p=r("444c"),m={name:"PageIndex",components:{newMenu:u["a"],nodeMenu:p["a"]},data:function(){return{foldersSrvc:null,filesSrvc:null,onAuth:null,folders:[],files:[]}},watch:{$route:function(){var e=d()(l.a.mark(function e(t,r){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getFoldersAndFiles();case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},beforeDestroy:function(){this.foldersSrvc.destroy(),this.filesSrvc.destroy(),this.$dbCon.removeListener("authenticated",this.onAuth)},mounted:function(){var e=this;this.foldersSrvc=this.$dbCon.wingsService("juan-folders").on("dataChange",function(t){e.folders=t,console.log("folders",t)}),this.filesSrvc=this.$dbCon.wingsService("juan-files").on("dataChange",function(t){if(e.files=t,e.$route.query.f){var r=e.$lodash.findIndex(e.files,{_id:e.$route.query.f});r>-1&&(e.$root.clickedItem=e.files[r],document.getElementById(e.files[r]._id).scrollIntoView({block:"center",behavior:"smooth"}))}}),this.onAuth=function(){var t=d()(l.a.mark(function t(r){return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:delete r.user.training_programs,delete r.user.voluntary_work,delete r.user.work_experience,delete r.user.civil_service_eligibility,delete r.user.educational_background,delete r.user.family_background,delete r.user.other_information,delete r.user.extra_information.signature,e.$root.user=r.user,console.log("AUTH OY!"),e.getFoldersAndFiles();case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.$root.user&&this.getFoldersAndFiles(),this.$dbCon.on("authenticated",this.onAuth)},methods:{currentVersion:function(e){var t=null;return t="undefined"===typeof e.versions[0].approved?0:e.versions[0].approved?0:1,e.versions[t]},dblclick:function(){var e=d()(l.a.mark(function e(t){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/myDrive/"+t._id),this.$root.currentFolder=t,this.$root.clickedItem=t;case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),checkSecurity:function(e){var t=this;return e.public||this.$lodash.findIndex(e.viewers,function(e){return e.value._id===t.$root.user._id})>-1||this.$lodash.findIndex(e.uploaders,function(e){return e.value._id===t.$root.user._id})>-1||this.$lodash.findIndex(e.modifiers,function(e){return e.value._id===t.$root.user._id})>-1||this.$lodash.findIndex(e.removers,function(e){return e.value._id===t.$root.user._id})>-1||this.$lodash.findIndex(e.folderCreators,function(e){return e.value._id===t.$root.user._id})>-1||this.$lodash.findIndex(e.approvers,function(e){return e.value._id===t.$root.user._id})>-1},getParamsConfig:function(){var e=this,t={$sort:{"logs.0.timestamp":-1},trash:{$ne:!0}},r=[{"security.public":!0},{"security.public":{$ne:!1}},{owner:this.$root.user._id},{"security.viewers":{$elemMatch:{"value._id":this.$root.user._id}}},{"security.uploaders":{$elemMatch:{"value._id":this.$root.user._id}}},{"security.modifiers":{$elemMatch:{"value._id":this.$root.user._id}}},{"security.removers":{$elemMatch:{"value._id":this.$root.user._id}}},{"security.folderCreators":{$elemMatch:{"value._id":this.$root.user._id}}},{"security.approvers":{$elemMatch:{"value._id":this.$root.user._id}}}],o=[{value:function(t,r){var o=r.owner===e.$root.user._id&&t===e.$route.params._id&&!r.trash;return console.log("con 1",o),o},prop:"parentFolder"},{value:function(t,r){var o=e.checkSecurity(t)&&r.parentFolder===e.$route.params._id&&!r.trash;return console.log("con 2",o),o},prop:"security"}],i={query:n()({$limit:500,parentFolder:this.$route.params._id},t,{$or:r})},s={debug:!0,channels:o,newDataPosition:"start"};return{params:i,config:s}},getPath:function(){var e=d()(l.a.mark(function e(t){var r;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.path.unshift({label:t.label,_id:t._id}),console.log("this.$root.path",this.$root.path),e.prev=2,e.next=5,this.$dbCon.service("juan-folders").get(t.parentFolder);case 5:return r=e.sent,e.next=8,this.getPath(r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),"My Drive"!==t._id&&this.$root.path.unshift({label:"My Drive",_id:"My Drive"});case 13:case"end":return e.stop()}},e,this,[[2,10]])}));function t(t){return e.apply(this,arguments)}return t}(),rePath:function(){var e=d()(l.a.mark(function e(){var t;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$root.path=[],t=this.$route.params._id,"My Drive"!==t){e.next=8;break}this.$root.currentFolder=this.$root.nodeFormat,this.$root.clickedItem=this.$root.nodeFormat,this.$root.path=[{label:"My Drive",_id:"My Drive"}],e.next=14;break;case 8:return e.next=10,this.$dbCon.services["juan-folders"].get(t);case 10:return this.$root.currentFolder=e.sent,e.next=13,this.getPath(this.$root.currentFolder);case 13:this.checkSecurity(this.$root.currentFolder.security)||this.$root.currentFolder.owner===this.$root.user._id||this.$router.push("/unauthorized");case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getFoldersAndFiles:function(){var e=d()(l.a.mark(function e(){var t,r,o;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getFoldersAndFiles"),t=this.getParamsConfig(),r=t.params,o=t.config,this.foldersSrvc.reset(r,o),this.filesSrvc.reset(r,o),e.next=6,this.rePath();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},h=m,f=(r("d5af"),r("2877")),v=Object(f["a"])(h,o,i,!1,null,null,null);t["default"]=v.exports},"68ff":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.newFolderPrompt||e.newUploadPrompt||e.newFormPrompt?e.newFormPrompt?r("q-dialog",{attrs:{persistent:""},model:{value:e.newFormPrompt,callback:function(t){e.newFormPrompt=t},expression:"newFormPrompt"}},[r("new-form",{attrs:{newFormPrompt:e.newFormPrompt}})],1):e.newFolderPrompt?r("q-dialog",{attrs:{persistent:""},model:{value:e.newFolderPrompt,callback:function(t){e.newFolderPrompt=t},expression:"newFolderPrompt"}},[r("q-card",{staticStyle:{"min-width":"400px"}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[e._v("New folder")])]),r("q-card-section",[r("q-input",{attrs:{dense:"",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveFolder(t)},focus:function(e){return e.target.select()}},model:{value:e.folderName,callback:function(t){e.folderName=t},expression:"folderName"}})],1),r("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),r("q-btn",{attrs:{color:"primary",label:"Create"},on:{click:e.saveFolder}})],1)],1)],1):r("q-dialog",{attrs:{persistent:""},model:{value:e.newUploadPrompt,callback:function(t){e.newUploadPrompt=t},expression:"newUploadPrompt"}},[r("q-card",{staticStyle:{"min-width":"400px"}},[r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"text-h6 col"},[e._v("Upload")]),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",round:"",icon:"close"},on:{click:function(t){return e.$refs.uploader.reset()}}})],1),r("q-card-section",{staticClass:"row"},[r("q-uploader",{staticClass:"col no-shadow",attrs:{multiple:"",headers:[{name:"Authorization",value:e.jwt}],url:e.$dbCon.io.io.uri+"/uploads","field-name":"file"},on:{uploaded:e.uploaded}})],1)],1)],1):r("q-menu",{ref:"newMenu",attrs:{"touch-position":"","context-menu":!e.leftClick,"auto-close":""}},[r("q-list",{staticStyle:{"min-width":"200px"},attrs:{dense:""}},[r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:e.newFolder}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{color:"blue-grey",name:"create_new_folder"}})],1),r("q-item-section",[e._v("New Folder")])],1),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:e.newFile}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{color:"blue-grey",name:"insert_drive_file"}})],1),r("q-item-section",[e._v("Upload File")])],1),r("q-separator"),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:e.showNewForm}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{color:"purple",name:"featured_play_list"}})],1),r("q-item-section",[e._v("New Form (Phase 2)")])],1)],1)],1)},i=[],s=r("967e"),n=r.n(s),a=(r("7f7f"),r("96cf"),r("fa84")),l=r.n(a),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",{staticStyle:{"min-width":"80vw"}},[r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"text-h6 col"},[e._v("New Form")]),r("div",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",round:"",icon:"close"}})],1)]),r("q-card-section",{staticClass:"col"},[r("q-input",{attrs:{label:"Title"},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}}),r("q-editor",{attrs:{"min-height":"5rem",toolbar:e.toolbar,fonts:e.fonts},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}}),r("draggable",{staticClass:"col q-pt-md q-gutter-md",attrs:{handle:".drag_handle","ghost-class":"ghost"},on:{change:function(t){e.selected=t.moved.newIndex}},model:{value:e.format,callback:function(t){e.format=t},expression:"format"}},e._l(e.format,function(t,o){return r("q-card",{key:"elem"+o,class:{"no-shadow":o!==e.selected,ghost:!0},on:{mouseover:function(t){e.hover=o},mouseout:function(t){e.hover=null},click:function(t){e.selected=o}}},[r("div",{staticClass:"row justify-center",staticStyle:{height:"12px"}},[r("q-icon",{directives:[{name:"show",rawName:"v-show",value:e.selected===o||e.hover===o,expression:"selected === i || hover === i"}],staticClass:"drag_handle",staticStyle:{cursor:"move"},attrs:{size:"18px",name:"drag_handle",color:"grey"}})],1),r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"col"},[r("q-input",{attrs:{placeholder:"Question"},model:{value:t.field,callback:function(r){e.$set(t,"field",r)},expression:"elem.field"}})],1),r("div",{staticClass:"col-3 q-pl-md"},[r("div",{staticClass:"col"},[e._v("\n              "+e._s(t.type?"":t.type={label:"Text",value:"Text",icon:"text_format"})+"\n              "),r("q-select",{attrs:{filled:e.selected===o,options:e.typeOptions},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:t.type.icon||"text_format"}})]},proxy:!0},{key:"option",fn:function(t){return[r("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:t.opt.icon}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(t.opt.label))])],1)],1)]}}],null,!0),model:{value:t.type,callback:function(r){e.$set(t,"type",r)},expression:"elem.type"}})],1)])]),t.type.value&&"Select"===t.type.value&&e.selected===o?r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"col"},e._l(t.options,function(i,s){return r("div",{key:o+"-"+s,staticClass:"row q-gutter-sm items-center",on:{mouseleave:function(t){e.opthover=null},mouseover:function(t){e.opthover=o+"-"+s}}},[!1===t.isMultiple?r("q-icon",{attrs:{name:"radio_button_checked",color:"blue-grey-13",size:"16px"}}):r("q-icon",{attrs:{name:"check_box",color:"blue-grey-13",size:"16px"}}),r("q-input",{attrs:{placeholder:"Label "+(s+1)},model:{value:i.label,callback:function(t){e.$set(i,"label",t)},expression:"op.label"}}),r("q-input",{attrs:{placeholder:"Value "+(s+1)},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"op.value"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.opthover===o+"-"+s,expression:"opthover === i + '-' + opi"}],staticClass:"row q-gutter-sm"},[r("q-btn",{attrs:{size:"sm",round:"",color:"blue-grey-13",icon:"delete"},on:{click:function(){return t.options.splice(s,1)}}}),r("q-btn",{attrs:{size:"sm",round:"",color:"blue-grey-13",icon:"file_copy"},on:{click:function(r){return e.duplicateOption(t.options,i,s)}}}),r("q-btn",{attrs:{size:"sm",round:"",color:"blue-grey-13",icon:"add_circle"},on:{click:function(r){return e.addOption(t.options,s)}}})],1)],1)}),0),r("div",{staticClass:"col-3 q-pl-md"},[r("div",{staticClass:"row q-pt-md"},[r("div",{staticClass:"col",staticStyle:{"max-width":"80px"}},[e._v("Selection")]),r("q-btn-toggle",{staticClass:"col",attrs:{"toggle-color":"primary",size:"sm",options:[{label:"Single",value:!1},{label:"Multiple",value:!0}]},model:{value:t.isMultiple,callback:function(r){e.$set(t,"isMultiple",r)},expression:"elem.isMultiple"}})],1)])]):e._e(),t.type.value&&"Rating"===t.type.value&&e.selected===o?r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"row q-gutter-sm items-center"})]),r("div",{staticClass:"col-3 q-pl-md"},[r("div",{staticClass:"row q-gutter-sm items-center justify-end"},[r("div",{staticStyle:{position:"relative",top:"0px"}},[e._v("1 to ")]),r("q-input",{staticStyle:{"max-width":"72px"},attrs:{dense:"",filled:"",min:"2",max:"15",placeholder:"max",type:"number"},model:{value:t.max,callback:function(r){e.$set(t,"max",e._n(r))},expression:"elem.max"}})],1)])]):e._e(),r("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.selected===o,expression:"selected === i"}],staticClass:"row items-center q-gutter-md"},[r("div",{staticClass:"col"},[r("q-toggle",{attrs:{label:"Required","left-label":""},model:{value:t.isRequired,callback:function(r){e.$set(t,"isRequired",r)},expression:"elem.isRequired"}})],1),r("q-btn",{attrs:{flat:"",round:"",color:"blue-grey-14",icon:"delete"},on:{click:function(t){return e.addQuestion(o)}}}),r("q-btn",{attrs:{flat:"",round:"",color:"blue-grey-14",icon:"file_copy"},on:{click:function(r){return e.duplicate(t,o)}}}),r("q-btn",{attrs:{flat:"",round:"",color:"blue-grey-14",icon:"add_circle"},on:{click:function(t){return e.addQuestion(o)}}})],1)],1)}),1)],1),r("q-card-section",[r("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),r("q-btn",{attrs:{color:"primary",label:"Submit"}})],1)],1)],1)},d=[],u=r("02fa"),p=r.n(u),m={field:"",type:"Text",value:"",isRequired:!1,isMultiple:!1,options:[{label:"",value:""}]},h={props:["newFormPrompt"],methods:{save:function(){var e=l()(n.a.mark(function e(){var t,r;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,this.$dbCon.services["juan-files"].create({label:this.label,parentFolder:this.$root.currentFolder._id,isFolder:!1,timestamps:{created:t,modified:t},owner:this.$root.user._id,security:{public:!1,viewers:[],uploaders:[],modifiers:[],removers:[],folderCreators:[]},logs:[{action:"created",timestamp:t,user:this.$root.user}]});case 3:r=e.sent,this.$root.clickedItem=r,this.$q.notify({message:this.label+" was created",position:"bottom-right",color:"positive"}),this.newFormPrompt=!1;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addOption:function(e,t){e.splice(t+1,0,{label:"",value:""})},duplicateOption:function(e,t,r){e.splice(r+1,0,this.$lodash.cloneDeep(t))},addQuestion:function(e){this.format.splice(e+1,0,this.$lodash.cloneDeep(m))},duplicate:function(e,t){this.format.splice(t+1,0,this.$lodash.cloneDeep(e))}},data:function(){return{selected:null,hover:null,opthover:null,label:"",details:"",format:[p()({},m)],typeOptions:[{label:"Text",value:"Text",icon:"text_format"},{label:"Number",value:"Number",icon:"exposure_plus_1"},{label:"Select",value:"Select",icon:"check_box"},{label:"Rating",value:"Rating",icon:"linear_scale"},{label:"Date",value:"Date",icon:"date_range"},{label:"Time",value:"Time",icon:"access_time"},{label:"digiSign",value:"digiSign",icon:"edit"}],toolbar:[["left","center","right","justify"],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],[{label:this.$q.lang.editor.formatting,icon:this.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:this.$q.lang.editor.fontSize,icon:this.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:this.$q.lang.editor.defaultFont,icon:this.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["print","fullscreen"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}}}},f=h,v=r("2877"),w=Object(v["a"])(f,c,d,!1,null,null,null),b=w.exports,_={components:{newForm:b},props:["leftClick"],data:function(){return{jwt:window.localStorage.getItem("".concat(this.$dbCon.io.io.uri,"-jwt")),newFolderPrompt:!1,newUploadPrompt:!1,newFormPrompt:!1,folderName:"Untitled folder"}},methods:{uploaded:function(){var e=l()(n.a.mark(function e(t){var r,o,i,s;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("uploaded",t),r=Date.now(),o=t.files[0].name,i=JSON.parse(t.xhr.response),i.version="0",e.next=7,this.$dbCon.services["juan-files"].create({label:o,versions:[i],parentFolder:this.$root.currentFolder._id,isFolder:!1,timestamps:{created:r,modified:r},owner:this.$root.user._id,security:{public:!1,viewers:[],uploaders:[],modifiers:[],removers:[],folderCreators:[]},logs:[{action:"created",timestamp:r,user:this.$root.user}]});case 7:s=e.sent,this.$root.clickedItem=s,console.log("file uploaded timi",i),this.$dbCon.service("uploads").patch(i._id,{parentNode:s._id}),this.$q.notify({message:o+" was uploaded",position:"bottom-right",color:"positive"}),this.newUploadPrompt=!1,this.newFolderPrompt=!1;case 14:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),newFolder:function(){this.newFolderPrompt=!0,this.folderName="Untitled folder",this.$refs.newMenu.toggle()},newFile:function(){this.newUploadPrompt=!0,this.newFolderPrompt=!1,this.newFormPrompt=!1,console.log("labas upload"),this.$refs.newMenu.toggle()},showNewForm:function(){this.newFormPrompt=!0,this.newUploadPrompt=!1,this.newFolderPrompt=!1,this.$refs.newMenu.toggle()},saveFolder:function(){var e=l()(n.a.mark(function e(){var t;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,this.$dbCon.services["juan-folders"].create({label:this.folderName,parentFolder:this.$root.currentFolder._id,isFolder:!0,timestamps:{created:t,modified:t},owner:this.$root.user._id,security:{public:!1,viewers:[],uploaders:[],modifiers:[],removers:[],folderCreators:[]},logs:[{action:"created",timestamp:t,user:this.$root.user}]});case 3:this.newFolderPrompt=!1;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},g=_,$=Object(v["a"])(g,o,i,!1,null,null,null);t["a"]=$.exports},b520:function(e,t,r){},d5af:function(e,t,r){"use strict";var o=r("b520"),i=r.n(o);i.a}}]);